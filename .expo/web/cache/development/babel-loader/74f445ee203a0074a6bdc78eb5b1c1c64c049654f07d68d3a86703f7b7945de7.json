{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar API_URL = 'https://chimmyworld-ai.onrender.com';\nvar ApiService = function () {\n  function ApiService() {\n    _classCallCheck(this, ApiService);\n  }\n  return _createClass(ApiService, null, [{\n    key: \"getAuthToken\",\n    value: function () {\n      var _getAuthToken = _asyncToGenerator(function* () {\n        return yield AsyncStorage.getItem('authToken');\n      });\n      function getAuthToken() {\n        return _getAuthToken.apply(this, arguments);\n      }\n      return getAuthToken;\n    }()\n  }, {\n    key: \"setAuthToken\",\n    value: function () {\n      var _setAuthToken = _asyncToGenerator(function* (token) {\n        if (token) {\n          yield AsyncStorage.setItem('authToken', token);\n        } else {\n          yield AsyncStorage.removeItem('authToken');\n        }\n      });\n      function setAuthToken(_x) {\n        return _setAuthToken.apply(this, arguments);\n      }\n      return setAuthToken;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator(function* (endpoint) {\n        var requireAuth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return this.request('GET', endpoint, null, requireAuth);\n      });\n      function get(_x2) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: \"post\",\n    value: function () {\n      var _post = _asyncToGenerator(function* (endpoint, data) {\n        var requireAuth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        return this.request('POST', endpoint, data, requireAuth);\n      });\n      function post(_x3, _x4) {\n        return _post.apply(this, arguments);\n      }\n      return post;\n    }()\n  }, {\n    key: \"put\",\n    value: function () {\n      var _put = _asyncToGenerator(function* (endpoint, data) {\n        var requireAuth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        return this.request('PUT', endpoint, data, requireAuth);\n      });\n      function put(_x5, _x6) {\n        return _put.apply(this, arguments);\n      }\n      return put;\n    }()\n  }, {\n    key: \"delete\",\n    value: function () {\n      var _delete2 = _asyncToGenerator(function* (endpoint) {\n        var requireAuth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return this.request('DELETE', endpoint, null, requireAuth);\n      });\n      function _delete(_x7) {\n        return _delete2.apply(this, arguments);\n      }\n      return _delete;\n    }()\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator(function* (method, endpoint, data) {\n        var requireAuth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n        var url = `${API_URL}${endpoint}`;\n        var headers = {\n          'Content-Type': 'application/json'\n        };\n        if (requireAuth) {\n          var token = yield this.getAuthToken();\n          if (token) {\n            headers['Authorization'] = `Bearer ${token}`;\n          }\n        }\n        var options = {\n          method: method,\n          headers: headers\n        };\n        if (data && (method === 'POST' || method === 'PUT')) {\n          options.body = JSON.stringify(data);\n        }\n        try {\n          var response = yield fetch(url, options);\n          var responseData = yield response.json();\n          if (!response.ok) {\n            throw {\n              status: response.status,\n              message: responseData.message || 'Request failed',\n              data: responseData\n            };\n          }\n          return responseData;\n        } catch (error) {\n          console.error('API request error:', error);\n          throw error;\n        }\n      });\n      function request(_x8, _x9, _x10) {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"uploadMedia\",\n    value: function () {\n      var _uploadMedia = _asyncToGenerator(function* (endpoint, formData) {\n        var requireAuth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var url = `${API_URL}${endpoint}`;\n        var headers = {};\n        if (requireAuth) {\n          var token = yield this.getAuthToken();\n          if (token) {\n            headers['Authorization'] = `Bearer ${token}`;\n          }\n        }\n        try {\n          var response = yield fetch(url, {\n            method: 'POST',\n            headers: headers,\n            body: formData\n          });\n          var responseData = yield response.json();\n          if (!response.ok) {\n            throw {\n              status: response.status,\n              message: responseData.message || 'Upload failed',\n              data: responseData\n            };\n          }\n          return responseData;\n        } catch (error) {\n          console.error('Upload error:', error);\n          throw error;\n        }\n      });\n      function uploadMedia(_x11, _x12) {\n        return _uploadMedia.apply(this, arguments);\n      }\n      return uploadMedia;\n    }()\n  }]);\n}();\nexport default ApiService;","map":{"version":3,"names":["AsyncStorage","API_URL","ApiService","_classCallCheck","_createClass","key","value","_getAuthToken","_asyncToGenerator","getItem","getAuthToken","apply","arguments","_setAuthToken","token","setItem","removeItem","setAuthToken","_x","_get","endpoint","requireAuth","length","undefined","request","get","_x2","_post","data","post","_x3","_x4","_put","put","_x5","_x6","_delete2","delete","_x7","_request","method","url","headers","options","body","JSON","stringify","response","fetch","responseData","json","ok","status","message","error","console","_x8","_x9","_x10","_uploadMedia","formData","uploadMedia","_x11","_x12"],"sources":["C:/Users/WW/CascadeProjects/bullseye-mobile/src/services/api.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\n// Update this with your actual backend URL\nconst API_URL = 'https://chimmyworld-ai.onrender.com'; \n\n/**\n * Base API service for making HTTP requests\n */\nclass ApiService {\n  // Token management\n  static async getAuthToken() {\n    return await AsyncStorage.getItem('authToken');\n  }\n\n  static async setAuthToken(token) {\n    if (token) {\n      await AsyncStorage.setItem('authToken', token);\n    } else {\n      await AsyncStorage.removeItem('authToken');\n    }\n  }\n\n  // Helper methods for making HTTP requests\n  static async get(endpoint, requireAuth = true) {\n    return this.request('GET', endpoint, null, requireAuth);\n  }\n\n  static async post(endpoint, data, requireAuth = true) {\n    return this.request('POST', endpoint, data, requireAuth);\n  }\n\n  static async put(endpoint, data, requireAuth = true) {\n    return this.request('PUT', endpoint, data, requireAuth);\n  }\n\n  static async delete(endpoint, requireAuth = true) {\n    return this.request('DELETE', endpoint, null, requireAuth);\n  }\n\n  static async request(method, endpoint, data, requireAuth = true) {\n    const url = `${API_URL}${endpoint}`;\n    \n    // Prepare headers\n    const headers = {\n      'Content-Type': 'application/json',\n    };\n\n    // Add auth token if required and available\n    if (requireAuth) {\n      const token = await this.getAuthToken();\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    // Prepare request options\n    const options = {\n      method,\n      headers,\n    };\n\n    // Add request body for methods that support it\n    if (data && (method === 'POST' || method === 'PUT')) {\n      options.body = JSON.stringify(data);\n    }\n\n    // Make request\n    try {\n      const response = await fetch(url, options);\n      \n      // Parse response body\n      const responseData = await response.json();\n      \n      // Handle non-2xx responses\n      if (!response.ok) {\n        throw {\n          status: response.status,\n          message: responseData.message || 'Request failed',\n          data: responseData\n        };\n      }\n      \n      return responseData;\n    } catch (error) {\n      console.error('API request error:', error);\n      throw error;\n    }\n  }\n\n  // Upload media files\n  static async uploadMedia(endpoint, formData, requireAuth = true) {\n    const url = `${API_URL}${endpoint}`;\n    \n    // Prepare headers without Content-Type to let fetch set it with boundary\n    const headers = {};\n\n    // Add auth token if required\n    if (requireAuth) {\n      const token = await this.getAuthToken();\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    // Make request\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers,\n        body: formData,\n      });\n      \n      const responseData = await response.json();\n      \n      if (!response.ok) {\n        throw {\n          status: response.status,\n          message: responseData.message || 'Upload failed',\n          data: responseData\n        };\n      }\n      \n      return responseData;\n    } catch (error) {\n      console.error('Upload error:', error);\n      throw error;\n    }\n  }\n}\n\nexport default ApiService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}